"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var Viewer_1 = require("../models/Viewer");
/** Client to call Viewer schema */
var ViewerClient = /** @class */ (function () {
    /** @ignore */
    function ViewerClient(client) {
        this.client = client;
    }
    /**
     * Get viewer.
     *
     * ```typescript
     * client.viewer.get(['id'], { rooms: { fields: ['id', 'name'] }}).then(v => {
     *   console.log(v)
     * })
     * ```
     *
     * @param fields Array of [[Viewer]] key names. Returns specified fields as result.
     * @param option
     */
    ViewerClient.prototype.get = function (fields, option) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var result;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.client.query({ viewer: Viewer_1.buildViewerQuery(fields, option) })];
                    case 1:
                        result = _a.sent();
                        return [2 /*return*/, {
                                errors: result.errors,
                                data: result.errors ? null : result.data.viewer
                            }];
                }
            });
        });
    };
    return ViewerClient;
}());
exports.ViewerClient = ViewerClient;
//# sourceMappingURL=Viewer.js.map